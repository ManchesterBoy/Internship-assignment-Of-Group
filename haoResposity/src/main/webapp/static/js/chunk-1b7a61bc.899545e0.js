(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b7a61bc"],{"11b6":function(e,t,i){},"661b":function(e,t,i){"use strict";i("11b6")},"9bf3":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"dataForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{model:e.temp,"label-position":"left","label-width":"70px"}},[i("el-form-item",{attrs:{label:"标题"}},[i("el-input",{attrs:{placeholder:"输入标题"},model:{value:e.temp.title,callback:function(t){e.$set(e.temp,"title",t)},expression:"temp.title"}})],1),i("el-form-item",{attrs:{label:"描述"}},[i("el-input",{attrs:{autosize:{minRows:8},type:"textarea",placeholder:"请输入描述文件内容!"},model:{value:e.temp.remark,callback:function(t){e.$set(e.temp,"remark",t)},expression:"temp.remark"}})],1),i("el-upload",{ref:"uploads",staticClass:"upload-demo",attrs:{action:"/api/upload","before-remove":e.beforeRemove,multiple:!1,"auto-upload":!1,limit:1,"on-exceed":e.handleExceed,"http-request":e.uploadFile,"on-change":e.changeFileList,"on-remove":e.changeFileList,"file-list":e.fileList},on:{"update:fileList":function(t){e.fileList=t},"update:file-list":function(t){e.fileList=t}}},[i("el-button",{attrs:{size:"small",type:"primary"}},[e._v("选择上传文件")])],1),i("div",{staticClass:"select-button"},[i("el-button",{attrs:{type:"primary"},on:{click:e.submitEvnet}},[e._v("提交")]),i("el-button",{attrs:{type:"primary"},on:{click:e.resetEvent}},[e._v("重置")])],1)],1)],1)},n=[],a=(i("498a"),i("b0c0"),i("6823")),l={name:"ArticleList",data:function(){return{temp:{title:"",remark:"",userId:this.$store.getters.userInfo.id,filename:""},listLoading:!1,fileList:[]}},created:function(){},methods:{submitEvnet:function(){0!=this.temp.title.trim().length&&0!=this.temp.remark.trim().length?0!=this.fileList.length?this.$refs.uploads.submit():this.$message.error("请上传文件!"):this.$message.error("信息填写未完整!")},resetEvent:function(){this.temp=Object.assign({title:"",remark:"",userId:this.$store.getters.userInfo.id,filename:""}),this.fileList.length>0&&this.fileList.pop()},beforeRemove:function(e,t){return this.$confirm("确定移除 ".concat(e.name,"？"))},handleExceed:function(e,t){this.$message.warning("当前限制选择 1 个文件，请取消之前文件，再进行添加!")},changeFileList:function(e,t){this.fileList=t},uploadFile:function(e){var t=this,i=new FormData;i.append("file",e.file),this.listLoading=!0,Object(a["f"])(i).then((function(e){if(200==e.status){var i=e.path,s={title:t.temp.title,userId:t.$store.getters.userInfo.id,remark:t.temp.remark,filename:i};t.addDocuEvent(s)}else t.$message.error("上传文件发生错误!!!")}))},addDocuEvent:function(e){var t=this;Object(a["a"])(e).then((function(e){console.log(e),t.$notify({title:"Success",message:"AddDocument Successfully",type:"success",duration:2e3}),t.listLoading=!1,t.resetEvent()}))}}},r=l,o=(i("661b"),i("2877")),c=Object(o["a"])(r,s,n,!1,null,null,null);t["default"]=c.exports}}]);